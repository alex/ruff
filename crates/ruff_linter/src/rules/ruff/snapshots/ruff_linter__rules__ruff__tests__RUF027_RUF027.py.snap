---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF027.py:5:9: RUF027 [*] Possible f-string without an `f` prefix
  |
3 | def simple_cases():
4 |     a = 4
5 |     b = "{a}" # RUF027
  |         ^^^^^ RUF027
6 |     c = "{a} {b} f'{val}' " # RUF027
7 |     uppercase = "{a}".to_upper() # RUF027
  |
  = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
2 2 | 
3 3 | def simple_cases():
4 4 |     a = 4
5   |-    b = "{a}" # RUF027
  5 |+    b = f"{a}" # RUF027
6 6 |     c = "{a} {b} f'{val}' " # RUF027
7 7 |     uppercase = "{a}".to_upper() # RUF027
8 8 | 

RUF027.py:6:9: RUF027 [*] Possible f-string without an `f` prefix
  |
4 |     a = 4
5 |     b = "{a}" # RUF027
6 |     c = "{a} {b} f'{val}' " # RUF027
  |         ^^^^^^^^^^^^^^^^^^^ RUF027
7 |     uppercase = "{a}".to_upper() # RUF027
  |
  = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
3 3 | def simple_cases():
4 4 |     a = 4
5 5 |     b = "{a}" # RUF027
6   |-    c = "{a} {b} f'{val}' " # RUF027
  6 |+    c = f"{a} {b} f'{val}' " # RUF027
7 7 |     uppercase = "{a}".to_upper() # RUF027
8 8 | 
9 9 | def escaped_string():

RUF027.py:7:17: RUF027 [*] Possible f-string without an `f` prefix
  |
5 |     b = "{a}" # RUF027
6 |     c = "{a} {b} f'{val}' " # RUF027
7 |     uppercase = "{a}".to_upper() # RUF027
  |                 ^^^^^ RUF027
8 | 
9 | def escaped_string():
  |
  = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
4 4 |     a = 4
5 5 |     b = "{a}" # RUF027
6 6 |     c = "{a} {b} f'{val}' " # RUF027
7   |-    uppercase = "{a}".to_upper() # RUF027
  7 |+    uppercase = f"{a}".to_upper() # RUF027
8 8 | 
9 9 | def escaped_string():
10 10 |     a = 4

RUF027.py:15:9: RUF027 [*] Possible f-string without an `f` prefix
   |
13 | def raw_string():
14 |     a = 4
15 |     b = r"raw string with formatting: {a}" # RUF027
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF027
16 |     c = r"raw string with \backslashes\ and \"escaped quotes\": {a}"
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
12 12 | 
13 13 | def raw_string():
14 14 |     a = 4
15    |-    b = r"raw string with formatting: {a}" # RUF027
   15 |+    b = fr"raw string with formatting: {a}" # RUF027
16 16 |     c = r"raw string with \backslashes\ and \"escaped quotes\": {a}"
17 17 | 
18 18 | def print_name(name: str):

RUF027.py:16:9: RUF027 [*] Possible f-string without an `f` prefix
   |
14 |     a = 4
15 |     b = r"raw string with formatting: {a}" # RUF027
16 |     c = r"raw string with \backslashes\ and \"escaped quotes\": {a}"
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF027
17 | 
18 | def print_name(name: str):
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
13 13 | def raw_string():
14 14 |     a = 4
15 15 |     b = r"raw string with formatting: {a}" # RUF027
16    |-    c = r"raw string with \backslashes\ and \"escaped quotes\": {a}"
   16 |+    c = fr"raw string with \backslashes\ and \"escaped quotes\": {a}"
17 17 | 
18 18 | def print_name(name: str):
19 19 |     a = 4

RUF027.py:20:11: RUF027 [*] Possible f-string without an `f` prefix
   |
18 | def print_name(name: str):
19 |     a = 4
20 |     print("Hello, {name}!") # RUF027
   |           ^^^^^^^^^^^^^^^^ RUF027
21 |     print("The test value we're using today is {a}") # RUF027
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
17 17 | 
18 18 | def print_name(name: str):
19 19 |     a = 4
20    |-    print("Hello, {name}!") # RUF027
   20 |+    print(f"Hello, {name}!") # RUF027
21 21 |     print("The test value we're using today is {a}") # RUF027
22 22 | 
23 23 | def do_nothing(a):

RUF027.py:21:11: RUF027 [*] Possible f-string without an `f` prefix
   |
19 |     a = 4
20 |     print("Hello, {name}!") # RUF027
21 |     print("The test value we're using today is {a}") # RUF027
   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF027
22 | 
23 | def do_nothing(a):
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
18 18 | def print_name(name: str):
19 19 |     a = 4
20 20 |     print("Hello, {name}!") # RUF027
21    |-    print("The test value we're using today is {a}") # RUF027
   21 |+    print(f"The test value we're using today is {a}") # RUF027
22 22 | 
23 23 | def do_nothing(a):
24 24 |     return a

RUF027.py:31:33: RUF027 [*] Possible f-string without an `f` prefix
   |
29 | def nested_funcs():
30 |     a = 4
31 |     print(do_nothing(do_nothing("{a}"))) # RUF027
   |                                 ^^^^^ RUF027
32 |     do_nothing_with_kwargs(do_nothing("{a}"), a = 5) # RUF027
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
28 28 | 
29 29 | def nested_funcs():
30 30 |     a = 4
31    |-    print(do_nothing(do_nothing("{a}"))) # RUF027
   31 |+    print(do_nothing(do_nothing(f"{a}"))) # RUF027
32 32 |     do_nothing_with_kwargs(do_nothing("{a}"), a = 5) # RUF027
33 33 | 
34 34 | def tripled_quoted():

RUF027.py:32:39: RUF027 [*] Possible f-string without an `f` prefix
   |
30 |     a = 4
31 |     print(do_nothing(do_nothing("{a}"))) # RUF027
32 |     do_nothing_with_kwargs(do_nothing("{a}"), a = 5) # RUF027
   |                                       ^^^^^ RUF027
33 | 
34 | def tripled_quoted():
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
29 29 | def nested_funcs():
30 30 |     a = 4
31 31 |     print(do_nothing(do_nothing("{a}"))) # RUF027
32    |-    do_nothing_with_kwargs(do_nothing("{a}"), a = 5) # RUF027
   32 |+    do_nothing_with_kwargs(do_nothing(f"{a}"), a = 5) # RUF027
33 33 | 
34 34 | def tripled_quoted():
35 35 |     a = 4

RUF027.py:37:19: RUF027 [*] Possible f-string without an `f` prefix
   |
35 |     a = 4
36 |     c = a
37 |     single_line = """ {a} """
   |                   ^^^^^^^^^^^ RUF027
38 |     multi_line = a = """b { # comment
39 |     c}  d
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
34 34 | def tripled_quoted():
35 35 |     a = 4
36 36 |     c = a
37    |-    single_line = """ {a} """
   37 |+    single_line = f""" {a} """
38 38 |     multi_line = a = """b { # comment
39 39 |     c}  d
40 40 |     """

RUF027.py:38:22: RUF027 [*] Possible f-string without an `f` prefix
   |
36 |       c = a
37 |       single_line = """ {a} """
38 |       multi_line = a = """b { # comment
   |  ______________________^
39 | |     c}  d
40 | |     """
   | |_______^ RUF027
41 |       
42 |   def single_quoted_multi_line():
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
35 35 |     a = 4
36 36 |     c = a
37 37 |     single_line = """ {a} """
38    |-    multi_line = a = """b { # comment
   38 |+    multi_line = a = f"""b { # comment
39 39 |     c}  d
40 40 |     """
41 41 |     

RUF027.py:44:9: RUF027 [*] Possible f-string without an `f` prefix
   |
42 |   def single_quoted_multi_line():
43 |       a = 4
44 |       b = " {\
   |  _________^
45 | |     a} \
46 | |     "
   | |_____^ RUF027
47 |   
48 |   def implicit_concat():
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
41 41 |     
42 42 | def single_quoted_multi_line():
43 43 |     a = 4
44    |-    b = " {\
   44 |+    b = f" {\
45 45 |     a} \
46 46 |     "
47 47 | 

RUF027.py:50:9: RUF027 [*] Possible f-string without an `f` prefix
   |
48 | def implicit_concat():
49 |     a = 4
50 |     b = "{a}" "+" "{b}" r" \\ " # RUF027 for the first part only
   |         ^^^^^ RUF027
51 | 
52 | def escaped_chars():
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
47 47 | 
48 48 | def implicit_concat():
49 49 |     a = 4
50    |-    b = "{a}" "+" "{b}" r" \\ " # RUF027 for the first part only
   50 |+    b = f"{a}" "+" "{b}" r" \\ " # RUF027 for the first part only
51 51 | 
52 52 | def escaped_chars():
53 53 |     a = 4

RUF027.py:54:9: RUF027 [*] Possible f-string without an `f` prefix
   |
52 | def escaped_chars():
53 |     a = 4
54 |     b = "\"escaped:\" \'{a}\' \"not escaped:\": \'{{c}}\'"
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF027
55 | 
56 | def alternative_formatter(src, **kwargs):
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
51 51 | 
52 52 | def escaped_chars():
53 53 |     a = 4
54    |-    b = "\"escaped:\" \'{a}\' \"not escaped:\": \'{{c}}\'"
   54 |+    b = f"\"escaped:\" \'{a}\' \"not escaped:\": \'{{c}}\'"
55 55 | 
56 56 | def alternative_formatter(src, **kwargs):
57 57 |     src.format(**kwargs)

RUF027.py:80:7: RUF027 [*] Possible f-string without an `f` prefix
   |
78 | "always ignore this: {a}"
79 | 
80 | print("but don't ignore this: {val}")
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF027
   |
   = help: Add an `f` prefix to the f-string

ℹ Unsafe fix
77 77 | 
78 78 | "always ignore this: {a}"
79 79 | 
80    |-print("but don't ignore this: {val}")
   80 |+print(f"but don't ignore this: {val}")


